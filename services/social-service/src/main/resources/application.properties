spring.datasource.url=jdbc:mysql://localhost:3307/laws?useUnicode=true&characterEncoding=utf8&serverTimezone=UTC
spring.datasource.username=app
spring.datasource.password=app

spring.jpa.hibernate.ddl-auto=validate
spring.jpa.open-in-view=false
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration/social
spring.flyway.table=flyway_schema_history_social
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=0

server.port=8082

app.cors.allowed-origins=http://localhost:5173,http://127.0.0.1:5173,http://localhost:5174,http://127.0.0.1:5174,http://localhost:3000,http://127.0.0.1:3000,http://localhost:8080,http://127.0.0.1:8080

app.otp.log-key=true
# OpenAPI
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
app.otp.ttl-seconds=600
app.jwt.secret=Thanhdeptrai
app.jwt.refresh-ttl-seconds=604800
app.jwt.audience=vn-law
app.jwt.issuer=social-service

# Redis (local dev)
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.database=0

# Multipart limits (allow images/videos up to 200MB total)
spring.servlet.multipart.max-file-size=200MB
spring.servlet.multipart.max-request-size=200MB

# Media storage
app.media.upload-dir=uploads
app.media.public-prefix=/media

# HTTP request/response logging
app.logging.http.enabled=true
app.logging.http.max-payload=4096
app.logging.http.log-headers=true
logging.level.com.example.socialservice=INFO

# Caching (Redis)
# Dung cache in-memory de tranh loi serialize (Redis chi dung cho OTP)
spring.cache.type=simple
spring.cache.cache-names=myPosts,userPosts,publicFeed

# Reset post data on start (disabled by default for local dev)
app.posts.reset-on-start=false

# --- SQL debug (enable when needed) ---
# spring.jpa.show-sql=true
# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
