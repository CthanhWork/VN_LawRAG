FROM python:3.11-slim

WORKDIR /app

# Force CPU wheels for torch/transformers to avoid compiling and GPU deps
ENV PIP_EXTRA_INDEX_URL=https://download.pytorch.org/whl/cpu

COPY requirements.txt /app/
RUN pip install --no-cache-dir -r requirements.txt

COPY . /app/

CMD ["python", "app.py"]
